

<ion-card id="container"
>
  <ion-card-content>
    <ion-header>
      <ion-toolbar align-items-center>
        <ion-title>Sign Up</ion-title>
      </ion-toolbar>
    </ion-header>
    <ion-grid>
      <form
        novalidate
        autocomplete="off"
        name="SignUpForm"
        #SignUpForm="ngForm"
        (ngSubmit)="signup(SignUpForm,user)"
      >
        <ion-row>
          <ion-col size="12" size-sm size-md size-lg size-xl>
            <ion-item>
              <ion-label>Role</ion-label>
              <ion-select name="FieldRole" required #FieldRole="ngModel" [(ngModel)]="user.roleId" >
                <ion-select-option value="Null" selected disabled>Select Role</ion-select-option>
				<ion-select-option value=0>Admin</ion-select-option>
                <ion-select-option value=1>Merchant</ion-select-option>
                <ion-select-option value=2>Driver</ion-select-option>
                <ion-select-option value=3>Gate Operator</ion-select-option>
              </ion-select>
              <div *ngIf="FieldRole.invalid && (FieldRole.dirty || FieldRole.touched || SignUpForm.submitted)"
                class="text-danger"
              >              
              <div [hidden]="!FieldRole.errors.required">
               Role is required
              </div>
			  </div>
            </ion-item>
          </ion-col>
          <ion-col size="12" size-sm size-md size-lg size-xl>
            <ion-item>
              <ion-label position="floating">First Name</ion-label>
              <ion-input
                type="text"
                [(ngModel)]="user.firstName"
                required
                pattern="[a-zA-Z ]*"
                #FiledFirstName="ngModel"
                name="FiledFirstName"
                [ngClass]="{'has-error': FiledFirstName.invalid && (FiledFirstName.dirty || FiledFirstName.touched || SignUpForm.submitted) }"
              ></ion-input>
              <div *ngIf="FiledFirstName.invalid && (FiledFirstName.dirty || FiledFirstName.touched || SignUpForm.submitted)"
                class="text-danger"
              >
                <div [hidden]="!FiledFirstName.errors.required">
                  First Name is required
                </div>
                <div [hidden]="!FiledFirstName.errors.pattern">
                  Enter valid First Name
                </div>
              </div>
            </ion-item>
          </ion-col>
          <ion-col size="12" size-sm size-md size-lg size-xl>
            <ion-item>
              <ion-label position="floating">Last Name</ion-label>
              <ion-input
                type="text"
                [(ngModel)]="user.lastName"
                required
                pattern="[a-zA-Z ]*"
                #FiledLastName="ngModel"
                name="FiledLastName"
                [ngClass]="{'has-error': FiledLastName.invalid && (FiledLastName.dirty || FiledLastName.touched || SignUpForm.submitted) }"
              ></ion-input>
              <div *ngIf="FiledLastName.invalid && (FiledLastName.dirty || FiledLastName.touched || SignUpForm.submitted)"
                
              >
                <div [hidden]="!FiledLastName.errors.required" >
                 Last Name is required 
                </div>
                <div [hidden]="!FiledLastName.errors.pattern">
                  Enter valid Last Name
                </div>
              </div>
            </ion-item>
          </ion-col>
          <ion-col size="12" size-sm size-md size-lg size-xl>
            <ion-item>
              <ion-label position="floating">Mobile Number</ion-label>
              <ion-input
                type="text"
                [(ngModel)]="user.mobileNumber"
                required
                pattern="[0-9]*"
                maxlength="10"
                #FieldMobileNumber="ngModel"
                name="FieldMobileNumber"
                [ngClass]="{'has-error': FieldMobileNumber.invalid && (FieldMobileNumber.dirty || FieldMobileNumber.touched || SignUpForm.submitted) }"
              ></ion-input>
              <div *ngIf="FieldMobileNumber.invalid && (FieldMobileNumber.dirty || FieldMobileNumber.touched || SignUpForm.submitted)"
                class="text-danger"
              >
                <div [hidden]="!FieldMobileNumber.errors.required">
                  Mobile Number is required
                </div>
                <div [hidden]="!FieldMobileNumber.errors.pattern">
                  Enter valide Mobile Number
                </div>
              </div>
            </ion-item>
          </ion-col>
          <ion-col size="12" size-sm size-md size-lg size-xl>
            <ion-item>
              <ion-label position="floating">Email</ion-label>
              <ion-input
                type="text"
                [(ngModel)]="user.email"
                required
                pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$"
                #FieldEmail="ngModel"
                name="FieldEmail"
                [ngClass]="{'has-error': FieldEmail.invalid && (FieldEmail.dirty || FieldEmail.touched || SignUpForm.submitted) }"
              ></ion-input>
              <div *ngIf="FieldEmail.invalid && (FieldEmail.dirty || FieldEmail.touched || SignUpForm.submitted)"
                class="text-danger"
              >
                <div [hidden]="!FieldEmail.errors.required">
                  Email Id is required
                </div>
                <div [hidden]="!FieldEmail.errors.pattern">
                  Enter valid Email Id
                </div>
              </div>
            </ion-item>
          </ion-col>
          <ion-col size="12" size-sm size-md size-lg size-xl>
            <ion-item>
              <ion-label position="floating">User Name</ion-label>
              <ion-input
                type="text"
                [(ngModel)]="user.userName"
                required
                pattern="[a-zA-Z ]*"
                #FieldUserName="ngModel"
                name="FieldUserName"
                [ngClass]="{'has-error': FieldUserName.invalid && (FieldUserName.dirty || FieldUserName.touched || SignUpForm.submitted) }"
              ></ion-input>
              <div *ngIf="FieldUserName.invalid && (FieldUserName.dirty || FieldUserName.touched || SignUpForm.submitted)"
                class="text-danger"
              >
                <div [hidden]="!FieldUserName.errors.required">
                  User Name is required
                </div>
                <div [hidden]="!FieldUserName.errors.pattern">
                  Enter valid User Name
                </div>
              </div>
            </ion-item>
          </ion-col>
          <ion-col size="12" size-sm size-md size-lg size-xl>
            <ion-item>
              <ion-label position="floating">Password</ion-label>
              <ion-input
                type="password"
                [(ngModel)]="user.password"
                required
                maxlength="8"
                pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d*\w]{8,}$"
                [ngClass]="{'has-error': FieldPassword.invalid && (FieldPassword.dirty || FieldPassword.touched || SignUpForm.submitted) }"
                #FieldPassword="ngModel"
                #FieldPasswordInput
                name="FieldPassword"
              >
              </ion-input>
              <ion-icon
              slot="end"
                (click)="togglePasswordShow(FieldPasswordInput)"
                [hidden]="showPassword"
                name="eye-off-outline"
              ></ion-icon>
              <ion-icon
              slot="end"
                (click)="togglePasswordShow(FieldPasswordInput)"
                [hidden]="!showPassword"
                name="eye-outline"
              ></ion-icon>
              <div *ngIf="FieldPassword.invalid && (FieldPassword.dirty || FieldPassword.touched || SignUpForm.submitted)"
                class="text-danger"
              >
              <div [hidden]="!FieldPassword.errors.pattern">
                Eight characters minimum,at least 1 uppercase, 1 lowercase and 1 number
              </div>
                  <div [hidden]="!FieldPassword.errors.required">
                  Password is required
                </div>
              </div>
            </ion-item>
          </ion-col>
          <ion-col size="12" size-sm size-md size-lg size-xl>
            <ion-item>
              <ion-label position="floating">Confirm Password</ion-label>
              <ion-input
                type="password"
                [(ngModel)]="user.confirmPassword"
                required
                maxlength="8"
                [ngClass]="{'has-error': FieldConfirmPassword.invalid && (FieldConfirmPassword.dirty || FieldConfirmPassword.touched || SignUpForm.submitted) }"
                #FieldConfirmPassword="ngModel"
                #FieldConfirmPasswordInput
                name="FieldConfirmPassword"
              >
              </ion-input>
              <ion-icon
                (click)="toggleConfirmPasswordShow(FieldConfirmPasswordInput)"
                
                slot="end"
                [hidden]="showConfirmPassword"
                name="eye-off-outline"
              ></ion-icon>
              <ion-icon
                (click)="toggleConfirmPasswordShow(FieldConfirmPasswordInput)"
                slot="end"
                [hidden]="!showConfirmPassword"
                name="eye-outline"
              ></ion-icon>
              <div *ngIf="FieldConfirmPassword.invalid && (FieldConfirmPassword.dirty || FieldConfirmPassword.touched || SignUpForm.submitted)"
                class="text-danger"
              >
                <div [hidden]="!FieldConfirmPassword.errors.required">
                  Confirm Password is required
                </div>
              </div>
              <div  *ngIf="!checkPassword() && !FieldConfirmPassword?.errors?.required"
                class="invalid-feedback"
                style="display: block;"
              >
                <span class="fa fa-exclamation-circle"></span>
                Password Mismatch
              </div>
            </ion-item>
          </ion-col>
        <ion-row class="right">
          <ion-col size="6" size-sm size-md size-lg size-xl>
            <button
              type="submit"
              value="Register"
              class="btn login_btn"
            >
              Register
            </button>
          </ion-col>
          <ion-col size="6" size-sm size-md size-lg size-xl>
            <button
              type="reset"
              value="Reset"
              class="btn login_btn"
            >
              Reset
            </button>
          </ion-col>
        </ion-row>
      </ion-row>
      </form>
    </ion-grid>
  </ion-card-content>
</ion-card>
